namespace SerializeInterface.Samples
{
using UnityEngine;
using SerializeInterface;
public partial class InterfaceConsumer : MonoBehaviour, ISerializationCallbackReceiver
{
    [SerializeField, ValidateInterface(typeof(SerializeInterface.Samples.IFoo))] private Object _foo_Object;
    public SerializeInterface.Samples.IFoo InstantiateInterface(SerializeInterface.Samples.IFoo instance)
    {
        if (instance is MonoBehaviour _foo_mono)
            return Object.Instantiate(_foo_mono) as SerializeInterface.Samples.IFoo;
        Debug.LogError($"Attempted to instantiate interface SerializeInterface.Samples.IFoo, but it is not a MonoBehaviour!", this);
        return null;
    }
    [SerializeField, ValidateInterface(typeof(SerializeInterface.Samples.IBar))] private Object _bar_Object;
    public SerializeInterface.Samples.IBar InstantiateInterface(SerializeInterface.Samples.IBar instance)
    {
        if (instance is MonoBehaviour _bar_mono)
            return Object.Instantiate(_bar_mono) as SerializeInterface.Samples.IBar;
        Debug.LogError($"Attempted to instantiate interface SerializeInterface.Samples.IBar, but it is not a MonoBehaviour!", this);
        return null;
    }
    public void OnBeforeSerialize()
    {
        _foo = _foo_Object as SerializeInterface.Samples.IFoo;
        _bar = _bar_Object as SerializeInterface.Samples.IBar;
    }
    public void OnAfterDeserialize()
    {
    }
}
}
